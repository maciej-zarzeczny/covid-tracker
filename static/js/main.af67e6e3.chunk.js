(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{103:function(e,a,t){},121:function(e,a,t){},123:function(e,a,t){},124:function(e,a,t){},218:function(e,a,t){},219:function(e,a,t){},220:function(e,a,t){},221:function(e,a,t){},222:function(e,a,t){"use strict";t.r(a);var c,r=t(1),n=t.n(r),s=t(32),l=t.n(s),o=(t(93),t(18)),i=t(4),m=t(3),u=(t(98),t(79)),d=t.n(u),b=t(6),E=t.n(b),v=(t(103),function(e){var a=e.fullPage;return n.a.createElement("div",{className:E()("loader-container",{"loader-container--full":a})},n.a.createElement(d.a,{size:64,color:"#123abc",loading:!0}))}),f=t(16),h=t(25),p=t.n(h),N=t(47),g=t(17),_=t(48),C=t.n(_),w=Object(g.b)("stats/fetchGlobalData",Object(N.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",redirect:"follow"},e.next=3,C.a.get("https://api.covid19api.com/summary",a);case 3:return t=e.sent,e.abrupt("return",{status:t.status,data:t.data});case 5:case"end":return e.stop()}}),e)})))),y=Object(g.b)("stats/fetchCountryData",function(){var e=Object(N.a)(p.a.mark((function e(a){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",redirect:"follow"},e.next=3,C.a.get("https://api.covid19api.com/total/dayone/country/".concat(a),t);case 3:return c=e.sent,e.abrupt("return",{status:c.status,data:c.data});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),j=Object(g.c)({name:"stats",initialState:{status:"idle",countryDataStatus:"idle",data:[],countryData:[],currentCountry:{},error:null},reducers:{changedCountry:function(e,a){var t=a.payload.country;e.currentCountry=t}},extraReducers:(c={},Object(f.a)(c,w.pending,(function(e,a){e.status="loading"})),Object(f.a)(c,w.fulfilled,(function(e,a){var t=a.payload,c=t.status,r=t.data;200===c?(e.status="succeeded",e.data=r,e.currentCountry=r.Countries[0]):(e.status="failed",e.error="There was an error, please try again.")})),Object(f.a)(c,w.rejected,(function(e,a){e.status="failed",e.error=a.error.message})),Object(f.a)(c,y.pending,(function(e,a){e.countryDataStatus="loading"})),Object(f.a)(c,y.fulfilled,(function(e,a){var t=a.payload,c=t.status,r=t.data;200===c?(e.countryDataStatus="succeeded",e.countryData=r):(e.countryDataStatus="failed",e.error="There was an error, please try again.")})),Object(f.a)(c,y.rejected,(function(e,a){e.countryDataStatus="failed",e.error=a.error.message})),c)}),O=j.actions.changedCountry,k=j.reducer,T=function(e){return e.stats.data.Countries},D=function(e){return e.stats.currentCountry},S=function(e){return e.stats.data.Global},R=function(e){return e.stats.countryData},x=t(5),F=t(14),A=t(81),H=t(23),B=(t(121),function(){var e=Object(r.useState)(!1),a=Object(x.a)(e,2),t=a[0],c=a[1],s=function(){c(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:E()("navbar",{"navbar--active":t}),"data-testid":"navbar"},n.a.createElement(A.a,{className:"navbar__close title",onClick:s}),n.a.createElement("h1",{className:"title title--light navbar__logo"},"CovidTracker"),n.a.createElement("div",{className:"navbar__items"},n.a.createElement(o.b,{exact:!0,to:"/",className:"navbar__item",activeClassName:"navbar__item--active",onClick:s},n.a.createElement(F.b,null)),n.a.createElement(o.b,{"data-testid":"map-page",to:"/map",className:"navbar__item",activeClassName:"navbar__item--active",onClick:s},n.a.createElement(F.d,null)),n.a.createElement(o.b,{"data-testid":"list-page",to:"/list",className:"navbar__item",activeClassName:"navbar__item--active",onClick:s},n.a.createElement(F.c,null)))),n.a.createElement("div",{className:E()("navbar-trigger",{"navbar-trigger--active":!t}),onClick:function(){c(!0)}},n.a.createElement(H.b,{className:"title"})),n.a.createElement("div",{className:E()("app-overlay",{"app-overlay--active":t})}))}),M=(t(123),t(124),["","k","M","G","T","P","E"]),G=function(e){var a=Math.log10(e)/3|0;if(0===a)return e;var t=M[a];return(e/Math.pow(10,3*a)).toFixed(1)+t},P=function(e){var a=e.color,t=e.title,c=e.data,s=Object(r.useMemo)((function(){switch(t){case"Cases":return n.a.createElement(F.a,{className:"is-warning subtitle"});case"Deaths":return n.a.createElement(H.a,{className:"is-danger subtitle"});case"Recovered":return n.a.createElement(H.c,{className:"is-success subtitle"});default:return n.a.createElement(F.a,{className:"is-warning subtitle"})}}),[t]);return n.a.createElement("article",{className:"card card--big card--hover stats-card"},n.a.createElement("span",{className:"stats-card__decoration stats-card__decoration--".concat(a)}),n.a.createElement("header",{className:"stats-card__header"},n.a.createElement("p",{className:"subtitle"},t),s),n.a.createElement("h1",{className:"title title--dark"},G(c)))},L=function(){var e=Object(m.b)(),a=Object(r.useState)("all"),t=Object(x.a)(a,2),c=t[0],s=t[1],l=Object(m.c)(T),o=Object(m.c)(D),i=l.map((function(e,a){return n.a.createElement("option",{"data-testid":"country-option",value:e.Slug,key:a},e.Country)}));return n.a.createElement("section",{className:"stats-cards"},n.a.createElement("header",{className:"stats-cards__header inline-container"},n.a.createElement("select",{"data-testid":"countries-select",className:"button",value:o.Slug,onChange:function(a){var t=a.target.value,c=l.find((function(e){return e.Slug===t}));e(O({country:c}))}},i),n.a.createElement("select",{"data-testid":"data-type-select",className:"button data-type",onChange:function(e){s(e.target.value)}},n.a.createElement("option",{value:"all"},"All data"),n.a.createElement("option",{value:"daily"},"Daily data"))),n.a.createElement("section",{className:"stats-cards__content"},n.a.createElement(P,{color:"warning",title:"Cases",data:"all"===c?o.TotalConfirmed:o.NewConfirmed}),n.a.createElement(P,{color:"danger",title:"Deaths",data:"all"===c?o.TotalDeaths:o.NewDeaths}),n.a.createElement(P,{color:"success",title:"Recovered",data:"all"===c?o.TotalRecovered:o.NewRecovered})))},z=t(83),J=(t(62),t(82)),W=function(){var e=Object(m.c)(T),a=Object(r.useState)({}),t=Object(x.a)(a,2),c=t[0],s=t[1];return Object(r.useEffect)((function(){if(0!==e.length){var a=0,t={};e.forEach((function(e){e.NewConfirmed>a&&(a=e.NewConfirmed,t=e)})),s(t)}}),[e]),n.a.createElement("article",{className:"global-card card card--big card--hover"},n.a.createElement("header",{className:"global-card__header global-card__header--danger"},n.a.createElement("p",{className:"subtitle header__title"},c.Country," (most new cases)"),n.a.createElement(J.a,{className:"subtitle"})),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"Total cases"),n.a.createElement("p",{className:"subtitle is-warning"},G(c.TotalConfirmed))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"Total deaths"),n.a.createElement("p",{className:"subtitle is-danger"},G(c.TotalDeaths))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"Total recovered"),n.a.createElement("p",{className:"subtitle is-success"},G(c.TotalRecovered))),n.a.createElement("div",{className:"separator"}),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"New cases"),n.a.createElement("p",{className:"subtitle is-warning"},G(c.NewConfirmed))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"New deaths"),n.a.createElement("p",{className:"subtitle is-danger"},G(c.NewDeaths))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"New recovered"),n.a.createElement("p",{className:"subtitle is-success"},G(c.NewRecovered))))},q=function(e){var a=e.data;return n.a.createElement("section",{className:"global-data"},n.a.createElement("article",{className:"global-card card card--big card--hover"},n.a.createElement("header",{className:"global-card__header global-card__header--info"},n.a.createElement("p",{className:"subtitle header__title"},"Worldwide"),n.a.createElement(z.a,{className:"subtitle"})),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"Total cases"),n.a.createElement("p",{className:"subtitle is-warning"},G(a.TotalConfirmed))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"Total deaths"),n.a.createElement("p",{className:"subtitle is-danger"},G(a.TotalDeaths))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"Total recovered"),n.a.createElement("p",{className:"subtitle is-success"},G(a.TotalRecovered))),n.a.createElement("div",{className:"separator"}),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"New cases"),n.a.createElement("p",{className:"subtitle is-warning"},G(a.NewConfirmed))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"New deaths"),n.a.createElement("p",{className:"subtitle is-danger"},G(a.NewDeaths))),n.a.createElement("div",{className:"global-card__info"},n.a.createElement("p",{className:"subtitle"},"New recovered"),n.a.createElement("p",{className:"subtitle is-success"},G(a.NewRecovered)))),n.a.createElement(W,null))},I=t(11),K=t(84),V=t(24),$=t.n(V),Q=(t(218),function(){var e=Object(m.b)(),a=Object(r.useRef)(null),t=Object(m.c)(R),c=Object(m.c)(D),s=Object(r.useState)({}),l=Object(x.a)(s,2),o=l[0],i=l[1],u=Object(r.useState)("cases"),d=Object(x.a)(u,2),b=d[0],E=d[1],v=Object(r.useState)("all"),f=Object(x.a)(v,2),h=f[0],p=f[1];Object(r.useEffect)((function(){e(y(c.Slug))}),[e,c]),Object(r.useEffect)((function(){if(0!==t.length){var e=[];switch(h){case"all":e=Object(I.a)(t);break;case"month":e=t.slice(Math.max(t.length-30,0));break;case"week":e=t.slice(Math.max(t.length-7,0))}var a=[],c={backgroundColor:"",borderColor:"",pointBorderColor:"rgba(0, 0, 0, 0)",pointHoverRadius:10,data:[]};switch(b){case"cases":c.backgroundColor="rgba(255, 192, 5, 0.1)",c.borderColor="rgba(255, 192, 5, 1",c.pointHoverBackgroundColor="rgba(255, 192, 5, 1",e.forEach((function(e){a.push($()(e.Date)),c.data.push(e.Confirmed)}));break;case"deaths":c.backgroundColor="rgba(208, 44, 60, 0.1)",c.borderColor="rgba(208, 44, 60, 1)",c.pointHoverBackgroundColor="rgba(208, 44, 60, 1)",e.forEach((function(e){a.push($()(e.Date)),c.data.push(e.Deaths)}));break;case"recovered":c.backgroundColor="rgba(39, 167, 68, 0.1)",c.borderColor="rgba(39, 167, 68, 1)",c.pointHoverBackgroundColor="rgba(39, 167, 68, 1)",e.forEach((function(e){a.push($()(e.Date)),c.data.push(e.Recovered)}))}i({labels:a,datasets:[c]})}}),[a,t,b,h]);return n.a.createElement("section",{className:"stats-chart"},n.a.createElement("header",{className:"stats-chart__header inline-container"},n.a.createElement("p",{className:"subtitle"},n.a.createElement("span",{className:"stats-chart__data-type"},b)," chart for ",c.Country),n.a.createElement("div",{className:"inline-container"},n.a.createElement("select",{className:"button",onChange:function(e){p(e.target.value)}},n.a.createElement("option",{value:"all"},"From the beginning "),n.a.createElement("option",{value:"month"},"Last 30 days"),n.a.createElement("option",{value:"week"},"Last 7 days")),n.a.createElement("select",{className:"button",onChange:function(e){E(e.target.value)}},n.a.createElement("option",{value:"cases"},"Cases"),n.a.createElement("option",{value:"deaths"},"Deaths"),n.a.createElement("option",{value:"recovered"},"Recovered")))),n.a.createElement("div",{className:"card card--big stats-chart__canvas"},n.a.createElement(K.Line,{data:o,options:{legend:{display:!1},responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{type:"time",time:{unit:"all"===h?"month":"day"}}]}}})))}),U=function(){var e=Object(m.c)(S),a=Object(m.c)((function(e){return e.stats.error})),t=(new Date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return n.a.createElement("section",{className:"home-page container"},a?n.a.createElement("div",{className:"error"},n.a.createElement("p",{className:"subtitle is-danger"},"There was an error: ",a)):n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"home-page__header"},n.a.createElement("div",null,n.a.createElement("h1",{className:"title"},"Hello,"),n.a.createElement("h2",{className:"subtitle"},"Here is your daily statistics")),n.a.createElement("div",{className:"card card--small inline-container"},n.a.createElement("p",{className:"text"},t),n.a.createElement(F.e,{className:"text"}))),n.a.createElement(L,null),n.a.createElement(q,{data:e}),n.a.createElement(Q,null)))},X=t(85),Y=(t(219),function(){var e=Object(r.useState)([]),a=Object(x.a)(e,2),t=a[0],c=a[1],s=Object(r.useState)("cases"),l=Object(x.a)(s,2),o=l[0],i=l[1],u=Object(r.useState)(["#FFF9EC","#ffc005"]),d=Object(x.a)(u,2),b=d[0],E=d[1],v=Object(m.c)((function(e){return e.stats.error})),f=Object(m.c)(T);Object(r.useEffect)((function(){if(f){var e=[];switch(o){case"cases":e.push(["Country","Cases"]),f.forEach((function(a){e.push([a.CountryCode,a.TotalConfirmed])})),E(["#FFF9EC","#ffc005"]);break;case"deaths":e.push(["Country","Deaths"]),f.forEach((function(a){e.push([a.CountryCode,a.TotalDeaths])})),E(["#FBECED","#D02E3D"]);break;case"recovered":e.push(["Country","Recovered"]),f.forEach((function(a){e.push([a.CountryCode,a.TotalRecovered])})),E(["#EDF7EE","#27A744"])}c(e)}}),[f,o]);return n.a.createElement("section",{className:"map-page container"},v?n.a.createElement("div",{className:"error error--map"},n.a.createElement("p",{className:"subtitle is-danger"},"There was an error: ",v)):n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"map-page__header"},n.a.createElement("h1",{className:"title"},"Hello,"),n.a.createElement("h2",{className:"subtitle"},"Here is the statistics on the map")),n.a.createElement("div",{className:"map-page__button"},n.a.createElement("select",{"data-testid":"countries-select",className:"button",onChange:function(e){i(e.target.value)}},n.a.createElement("option",{value:"cases"},"Cases"),n.a.createElement("option",{value:"deaths"},"Deaths"),n.a.createElement("option",{value:"recovered"},"Recovered"))),n.a.createElement("div",{className:"map-page__map card card--big"},n.a.createElement(X.a,{width:"100%",height:"100%",chartType:"GeoChart",loader:n.a.createElement("p",{className:"subtitle map__loading-text"},"Loading map..."),data:t,options:{colorAxis:{colors:b}},mapsApiKey:"AIzaSyDP-ETqkV7JO8KPfEl89q22cdg1z3jV01c",rootProps:{"data-testid":"1"}}))))}),Z=(t(220),t(87)),ee=(t(221),function(){var e=Object(m.c)(T),a=Object(r.useState)(e),t=Object(x.a)(a,2),c=t[0],s=t[1],l=Object(r.useState)("cases"),o=Object(x.a)(l,2),i=o[0],u=o[1],d=c.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",null,a+1),n.a.createElement("td",{"data-testid":"country-cell",className:E()("",{"stats-table__cell--bold":"country"===i})},e.Country),n.a.createElement("td",{className:E()("stats-table__cell--warning",{"stats-table__cell--bold":"cases"===i})},e.TotalConfirmed),n.a.createElement("td",{className:E()("stats-table__cell--warning",{"stats-table__cell--bold":"new-cases"===i})},e.NewConfirmed),n.a.createElement("td",{className:E()("stats-table__cell--danger",{"stats-table__cell--bold":"deaths"===i})},e.TotalDeaths),n.a.createElement("td",{className:E()("stats-table__cell--danger",{"stats-table__cell--bold":"new-deaths"===i})},e.NewDeaths),n.a.createElement("td",{className:E()("stats-table__cell--success",{"stats-table__cell--bold":"recovered"===i})},e.TotalRecovered),n.a.createElement("td",{className:E()("stats-table__cell--success",{"stats-table__cell--bold":"new-recovered"===i})},e.NewRecovered))}));Object(r.useEffect)((function(){switch(i){case"country":var a=Object(I.a)(e).sort((function(e,a){return e.Country>a.Country?1:-1}));s(a);break;case"cases":var t=Object(I.a)(e).sort((function(e,a){return a.TotalConfirmed-e.TotalConfirmed}));s(t);break;case"new-cases":var c=Object(I.a)(e).sort((function(e,a){return a.NewConfirmed-e.NewConfirmed}));s(c);break;case"deaths":var r=Object(I.a)(e).sort((function(e,a){return a.TotalDeaths-e.TotalDeaths}));s(r);break;case"new-deaths":var n=Object(I.a)(e).sort((function(e,a){return a.NewDeaths-e.NewDeaths}));s(n);break;case"recovered":var l=Object(I.a)(e).sort((function(e,a){return a.TotalRecovered-e.TotalRecovered}));s(l);break;case"new-recovered":var o=Object(I.a)(e).sort((function(e,a){return a.NewRecovered-e.NewRecovered}));s(o)}}),[i,e]);var b=function(e){u(e)};return n.a.createElement("div",{className:"stats-table-container card card--big"},n.a.createElement("table",{className:"stats-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Num"),n.a.createElement("th",{"data-tip":"Sort by country",onClick:function(){return b("country")}},"Country"),n.a.createElement("th",{"data-tip":"Sort by cases",onClick:function(){return b("cases")}},"Total cases"),n.a.createElement("th",{"data-tip":"Sort by new cases",onClick:function(){return b("new-cases")}},"New cases"),n.a.createElement("th",{"data-tip":"Sort by deaths",onClick:function(){return b("deaths")}},"Total deaths"),n.a.createElement("th",{"data-tip":"Sort by new deaths",onClick:function(){return b("new-deaths")}},"New deaths"),n.a.createElement("th",{"data-tip":"Sort by recovered",onClick:function(){return b("recovered")}},"Total recovered"),n.a.createElement("th",{"data-tip":"Sort by new recovered",onClick:function(){return b("new-recovered")}},"New recovered"))),n.a.createElement("tbody",null,d)),n.a.createElement(Z.a,null))}),ae=function(){var e=Object(m.c)((function(e){return e.stats.error}));return n.a.createElement("section",{className:"list-page container"},e?n.a.createElement("div",{className:"error"},n.a.createElement("p",{className:"subtitle is-danger"},"There was an error: ",e)):n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"list-page__header"},n.a.createElement("h1",{className:"title"},"Hello,"),n.a.createElement("h2",{className:"subtitle"},"Here is the list of all data")),n.a.createElement(ee,null)))},te=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.stats.status}));return Object(r.useEffect)((function(){"idle"===a&&e(w())}),[e,a]),"idle"===a||"loading"===a?n.a.createElement("div",{"data-testid":"loader"},n.a.createElement(v,{fullPage:!0})):n.a.createElement(o.a,null,n.a.createElement("div",{className:"App"},n.a.createElement("section",{className:"App__navbar"},n.a.createElement(B,null)),n.a.createElement("section",{className:"App__content"},n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/",component:U}),n.a.createElement(i.a,{exact:!0,path:"/map",component:Y}),n.a.createElement(i.a,{exact:!0,path:"/list",component:ae})))))},ce=Object(g.a)({reducer:{stats:k}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m.a,{store:ce},n.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,a,t){},88:function(e,a,t){e.exports=t(222)},93:function(e,a,t){},98:function(e,a,t){}},[[88,1,2]]]);
//# sourceMappingURL=main.af67e6e3.chunk.js.map